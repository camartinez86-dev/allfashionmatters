<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>Mission Control | AFM</title>
    <script src="https://cdn.tailwindcss.com"></script>
    <script src="https://unpkg.com/lucide@latest"></script>
    <link href="https://fonts.googleapis.com/css2?family=Inter:wght@300;400;500;600;700&display=swap" rel="stylesheet">
    <style>
        * { font-family: 'Inter', sans-serif; }
        body { background: #0f0f0f; }
        .sidebar { background: #1a1a1a; }
        .sidebar-item:hover { background: #2a2a2a; }
        .sidebar-item.active { background: #2a2a2a; border-left: 3px solid #ec4899; }
        .calendar-day:hover { background: #1f1f1f; }
        .calendar-day.today { background: #1f1f1f; border: 1px solid #3b3b3b; }
        .tag-social { background: rgba(236, 72, 153, 0.2); color: #ec4899; }
        .tag-task { background: rgba(59, 130, 246, 0.2); color: #3b82f6; }
        .tag-default { background: rgba(168, 85, 247, 0.2); color: #a855f7; }
        .schedule-item { border-left: 2px solid #3b3b3b; }
        .schedule-item:last-child { border-left-color: transparent; }
        ::-webkit-scrollbar { width: 6px; }
        ::-webkit-scrollbar-track { background: #1a1a1a; }
        ::-webkit-scrollbar-thumb { background: #3b3b3b; border-radius: 3px; }
    </style>
</head>
<body class="text-white h-screen flex overflow-hidden">
    <!-- Sidebar -->
    <aside class="sidebar w-64 flex-shrink-0 border-r border-white/5 p-4 flex flex-col">
        <div class="mb-8">
            <h1 class="text-xl font-bold">Mission Control</h1>
            <p class="text-xs text-gray-500">AllFashionMatters</p>
        </div>
        
        <nav class="flex-1 space-y-1">
            <button onclick="showView('dashboard')" id="nav-dashboard" class="sidebar-item active w-full text-left px-4 py-3 rounded-lg text-sm font-medium flex items-center gap-3">
                <i data-lucide="layout-dashboard" class="w-4 h-4"></i>
                DASHBOARD
            </button>
            <button onclick="showView('calendar')" id="nav-calendar" class="sidebar-item w-full text-left px-4 py-3 rounded-lg text-sm font-medium flex items-center gap-3 text-gray-400">
                <i data-lucide="calendar-days" class="w-4 h-4"></i>
                CALENDAR
            </button>
            <button onclick="showView('tasks')" id="nav-tasks" class="sidebar-item w-full text-left px-4 py-3 rounded-lg text-sm font-medium flex items-center gap-3 text-gray-400">
                <i data-lucide="check-square" class="w-4 h-4"></i>
                TASKS
            </button>
            <button onclick="showView('notes')" id="nav-notes" class="sidebar-item w-full text-left px-4 py-3 rounded-lg text-sm font-medium flex items-center gap-3 text-gray-400">
                <i data-lucide="sticky-note" class="w-4 h-4"></i>
                NOTES
            </button>
        </nav>
        
        <div class="mt-auto pt-4 border-t border-white/5">
            <p class="text-xs text-gray-500">Last updated: <span id="last-updated">Just now</span></p>
        </div>
    </aside>

    <!-- Main Content -->
    <main class="flex-1 overflow-auto p-8">
        <!-- DASHBOARD VIEW -->
        <div id="view-dashboard" class="view">
            <!-- Header -->
            <div class="mb-8">
                <h2 class="text-2xl font-semibold">Dashboard</h2>
                <p class="text-gray-500 text-sm mt-1">Welcome back! Here's your overview.</p>
            </div>
            
            <!-- Stats Cards -->
            <div class="grid grid-cols-3 gap-4 mb-8">
                <div class="bg-white/5 rounded-xl p-5">
                    <p class="text-gray-400 text-sm">Total Tasks</p>
                    <p class="text-3xl font-semibold mt-2" id="total-tasks">0</p>
                </div>
                <div class="bg-white/5 rounded-xl p-5">
                    <p class="text-gray-400 text-sm">Completed</p>
                    <p class="text-3xl font-semibold mt-2 text-green-400" id="completed-tasks">0</p>
                </div>
                <div class="bg-white/5 rounded-xl p-5">
                    <p class="text-gray-400 text-sm">Upcoming Events</p>
                    <p class="text-3xl font-semibold mt-2 text-pink-400" id="upcoming-events">0</p>
                </div>
            </div>
            
            <!-- Schedule Section -->
            <div class="bg-white/5 rounded-xl p-6">
                <h3 class="text-lg font-semibold mb-4">Schedule</h3>
                <div id="schedule-list" class="space-y-0">
                    <!-- Events will be rendered here -->
                </div>
            </div>
            
            <!-- Quick Add -->
            <div class="mt-6 flex gap-3">
                <input type="text" id="quick-add-input" placeholder="Add a task..." class="flex-1 bg-white/5 border border-white/10 rounded-lg px-4 py-2 text-sm" onkeypress="if(event.key==='Enter')quickAdd()">
                <select id="quick-add-type" class="bg-white/5 border border-white/10 rounded-lg px-3 text-sm">
                    <option value="task">Task</option>
                    <option value="social">Social</option>
                    <option value="email">Email</option>
                </select>
                <input type="date" id="quick-add-date" class="bg-white/5 border border-white/10 rounded-lg px-3 text-sm">
                <button onclick="quickAdd()" class="px-4 py-2 bg-pink-500 text-white rounded-lg text-sm font-medium hover:bg-pink-600">Add</button>
            </div>
        </div>

        <!-- CALENDAR VIEW -->
        <div id="view-calendar" class="view hidden">
            <div class="flex justify-between items-center mb-6">
                <div class="flex items-center gap-4">
                    <button onclick="changeMonth(-1)" class="p-2 hover:bg-white/5 rounded-lg"><i data-lucide="chevron-left" class="w-5 h-5"></i></button>
                    <h2 id="calendar-title" class="text-xl font-semibold">February 2026</h2>
                    <button onclick="changeMonth(1)" class="p-2 hover:bg-white/5 rounded-lg"><i data-lucide="chevron-right" class="w-5 h-5"></i></button>
                </div>
                <button onclick="goToToday()" class="text-sm text-gray-400 hover:text-white">Today</button>
            </div>
            
            <!-- Calendar Grid -->
            <div class="grid grid-cols-7 gap-1 mb-2">
                <div class="text-center text-xs text-gray-500 py-2">Sun</div>
                <div class="text-center text-xs text-gray-500 py-2">Mon</div>
                <div class="text-center text-xs text-gray-500 py-2">Tue</div>
                <div class="text-center text-xs text-gray-500 py-2">Wed</div>
                <div class="text-center text-xs text-gray-500 py-2">Thu</div>
                <div class="text-center text-xs text-gray-500 py-2">Fri</div>
                <div class="text-center text-xs text-gray-500 py-2">Sat</div>
            </div>
            <div id="calendar-grid" class="grid grid-cols-7 gap-1"></div>
        </div>

        <!-- TASKS VIEW -->
        <div id="view-tasks" class="view hidden">
            <h2 class="text-2xl font-semibold mb-6">Tasks</h2>
            <div id="tasks-list" class="space-y-2"></div>
        </div>

        <!-- NOTES VIEW -->
        <div id="view-notes" class="view hidden">
            <h2 class="text-2xl font-semibold mb-6">Notes</h2>
            <textarea id="notes-area" class="w-full h-96 bg-white/5 border border-white/10 rounded-xl p-4 text-sm resize-none" placeholder="Write your notes here..."></textarea>
            <button onclick="saveNotes()" class="mt-4 px-4 py-2 bg-pink-500 text-white rounded-lg text-sm font-medium hover:bg-pink-600">Save Notes</button>
        </div>
    </main>

    <script>
        lucide.createIcons();

        // Data
        let events = JSON.parse(localStorage.getItem('mc-events')) || [];
        let tasks = JSON.parse(localStorage.getItem('mc-tasks')) || [];
        let notes = localStorage.getItem('mc-notes') || '';
        
        // Initialize with sample data
        if (events.length === 0) {
            events = [
                { id: 1, title: 'Post to socials', date: '2026-02-20', type: 'social' },
                { id: 2, title: 'Finish blog post', date: '2026-02-21', type: 'task' },
                { id: 3, title: 'Email', date: '2026-02-22', type: 'email' },
                { id: 4, title: 'Post to socials', date: '2026-02-24', type: 'social' },
                { id: 5, title: 'Post to socials', date: '2026-02-25', type: 'social' },
                { id: 6, title: 'Finish blog post', date: '2026-02-26', type: 'task' },
                { id: 7, title: 'Post to socials', date: '2026-02-28', type: 'social' }
            ];
            localStorage.setItem('mc-events', JSON.stringify(events));
        }
        
        if (tasks.length === 0) {
            tasks = [
                { id: 1, text: 'Post to Instagram', done: false },
                { id: 2, text: 'Check analytics', done: false },
                { id: 3, text: 'Write blog post', done: true }
            ];
            localStorage.setItem('mc-tasks', JSON.stringify(tasks));
        }
        
        document.getElementById('notes-area').value = notes;

        let currentDate = new Date(2026, 1, 1); // February 2026

        // Navigation
        function showView(view) {
            document.querySelectorAll('.view').forEach(v => v.classList.add('hidden'));
            document.getElementById('view-' + view).classList.remove('hidden');
            
            document.querySelectorAll('.sidebar-item').forEach(item => {
                item.classList.remove('active');
                item.classList.add('text-gray-400');
            });
            document.getElementById('nav-' + view).classList.add('active');
            document.getElementById('nav-' + view).classList.remove('text-gray-400');
            
            renderAll();
        }

        // Calendar
        function renderCalendar() {
            const grid = document.getElementById('calendar-grid');
            const title = document.getElementById('calendar-title');
            const year = currentDate.getFullYear();
            const month = currentDate.getMonth();
            
            const months = ['January', 'February', 'March', 'April', 'May', 'June', 'July', 'August', 'September', 'October', 'November', 'December'];
            title.textContent = `${months[month]} ${year}`;
            
            const firstDay = new Date(year, month, 1).getDay();
            const daysInMonth = new Date(year, month + 1, 0).getDate();
            const today = new Date();
            
            let html = '';
            
            // Empty cells
            for (let i = 0; i < firstDay; i++) {
                html += '<div class="h-24"></div>';
            }
            
            // Days
            for (let day = 1; day <= daysInMonth; day++) {
                const dateStr = `${year}-${String(month + 1).padStart(2, '0')}-${String(day).padStart(2, '0')}`;
                const dayEvents = events.filter(e => e.date === dateStr);
                const isToday = today.getDate() === day && today.getMonth() === month && today.getFullYear() === year;
                
                html += `<div class="calendar-day h-24 p-2 rounded-lg cursor-pointer ${isToday ? 'today' : ''}" onclick="addEventOnDate('${dateStr}')">
                    <div class="text-sm font-medium ${isToday ? 'text-pink-400' : ''}">${day}</div>
                    <div class="mt-1 space-y-1">
                        ${dayEvents.slice(0, 2).map(e => `<div class="text-xs px-1.5 py-0.5 rounded ${getTypeClass(e.type)} truncate">${e.title}</div>`).join('')}
                        ${dayEvents.length > 2 ? `<div class="text-xs text-gray-500">+${dayEvents.length - 2} more</div>` : ''}
                    </div>
                </div>`;
            }
            
            grid.innerHTML = html;
        }

        function getTypeClass(type) {
            if (type === 'social') return 'tag-social';
            if (type === 'task') return 'tag-task';
            return 'tag-default';
        }

        function changeMonth(delta) {
            currentDate.setMonth(currentDate.getMonth() + delta);
            renderCalendar();
        }

        function goToToday() {
            currentDate = new Date();
            renderCalendar();
        }

        // Schedule
        function renderSchedule() {
            const list = document.getElementById('schedule-list');
            const sortedEvents = [...events].sort((a, b) => a.date.localeCompare(b.date));
            const upcoming = sortedEvents.filter(e => e.date >= new Date().toISOString().split('T')[0]).slice(0, 5);
            
            if (upcoming.length === 0) {
                list.innerHTML = '<p class="text-gray-500 text-sm">No upcoming events</p>';
                return;
            }
            
            list.innerHTML = upcoming.map(e => `
                <div class="schedule-item pl-4 pb-4">
                    <p class="text-xs text-gray-500">${formatDate(e.date)}</p>
                    <div class="flex items-center gap-2 mt-1">
                        <span class="text-sm font-medium">${e.title}</span>
                        <span class="text-xs px-2 py-0.5 rounded ${getTypeClass(e.type)}">${e.type}</span>
                    </div>
                </div>
            `).join('');
        }

        function formatDate(dateStr) {
            const date = new Date(dateStr + 'T00:00:00');
            const today = new Date();
            const tomorrow = new Date(today);
            tomorrow.setDate(tomorrow.getDate() + 1);
            
            if (dateStr === today.toISOString().split('T')[0]) return 'Today';
            if (dateStr === tomorrow.toISOString().split('T')[0]) return 'Tomorrow';
            
            return date.toLocaleDateString('en-US', { weekday: 'short', month: 'short', day: 'numeric' });
        }

        // Tasks
        function renderTasks() {
            const list = document.getElementById('tasks-list');
            list.innerHTML = tasks.map(t => `
                <div class="flex items-center gap-3 p-3 bg-white/5 rounded-lg">
                    <button onclick="toggleTask(${t.id})" class="text-${t.done ? 'green' : 'gray'}-400">
                        <i data-lucide="${t.done ? 'check-circle' : 'circle'}" class="w-5 h-5"></i>
                    </button>
                    <span class="flex-1 ${t.done ? 'line-through text-gray-500' : ''}">${t.text}</span>
                    <button onclick="deleteTask(${t.id})" class="text-gray-500 hover:text-red-400"><i data-lucide="x" class="w-4 h-4"></i></button>
                </div>
            `).join('');
            lucide.createIcons();
        }

        // Quick add
        function quickAdd() {
            const input = document.getElementById('quick-add-input');
            const type = document.getElementById('quick-add-type').value;
            const date = document.getElementById('quick-add-date').value;
            
            if (input.value.trim()) {
                if (date) {
                    events.push({ id: Date.now(), title: input.value, date, type });
                    localStorage.setItem('mc-events', JSON.stringify(events));
                } else {
                    tasks.push({ id: Date.now(), text: input.value, done: false });
                    localStorage.setItem('mc-tasks', JSON.stringify(tasks));
                }
                input.value = '';
                renderAll();
            }
        }

        function addEventOnDate(dateStr) {
            const title = prompt('Event title:');
            if (title) {
                const type = prompt('Type (task/social/email):') || 'task';
                events.push({ id: Date.now(), title, date: dateStr, type });
                localStorage.setItem('mc-events', JSON.stringify(events));
                renderAll();
            }
        }

        function toggleTask(id) {
            const task = tasks.find(t => t.id === id);
            if (task) {
                task.done = !task.done;
                localStorage.setItem('mc-tasks', JSON.stringify(tasks));
                renderAll();
            }
        }

        function deleteTask(id) {
            tasks = tasks.filter(t => t.id !== id);
            localStorage.setItem('mc-tasks', JSON.stringify(tasks));
            renderAll();
        }

        function saveNotes() {
            localStorage.setItem('mc-notes', document.getElementById('notes-area').value);
            alert('Notes saved!');
        }

        function renderAll() {
            renderCalendar();
            renderSchedule();
            renderTasks();
            
            // Stats
            document.getElementById('total-tasks').textContent = tasks.length;
            document.getElementById('completed-tasks').textContent = tasks.filter(t => t.done).length;
            const today = new Date().toISOString().split('T')[0];
            document.getElementById('upcoming-events').textContent = events.filter(e => e.date >= today).length;
            
            document.getElementById('last-updated').textContent = new Date().toLocaleTimeString();
            lucide.createIcons();
        }

        // Initialize
        renderAll();
    </script>
</body>
</html>