import { products } from './data.js';document.addEventListener('DOMContentLoaded', () => {    initNavigation();    initScrollAnimations();    renderProducts();    initContactForm();    lucide.createIcons();});function initNavigation() {    const navbar = document.getElementById('navbar');    const mobileBtn = document.getElementById('mobile-menu-btn');    const mobileMenu = document.getElementById('mobile-menu');    window.addEventListener('scroll', () => {        if (window.scrollY > 20) {            navbar.classList.add('shadow-sm');        } else {            navbar.classList.remove('shadow-sm');        }    });    mobileBtn.addEventListener('click', () => {        const isHidden = mobileMenu.classList.contains('hidden');                if (isHidden) {            mobileMenu.classList.remove('hidden');            document.body.style.overflow = 'hidden'; // Prevent scrolling            mobileBtn.innerHTML = `<i data-lucide="x" class="w-8 h-8"></i>`;        } else {            mobileMenu.classList.add('hidden');            document.body.style.overflow = ''; // Restore scrolling            mobileBtn.innerHTML = `<i data-lucide="menu" class="w-8 h-8"></i>`;        }        lucide.createIcons();    });    document.querySelectorAll('.mobile-link').forEach(link => {        link.addEventListener('click', () => {            mobileMenu.classList.add('hidden');            document.body.style.overflow = '';            mobileBtn.innerHTML = `<i data-lucide="menu" class="w-8 h-8"></i>`;            lucide.createIcons();        });    });}function initScrollAnimations() {    const observerOptions = {        threshold: 0.1,        rootMargin: "0px 0px -50px 0px"    };    const observer = new IntersectionObserver((entries) => {        entries.forEach(entry => {            if (entry.isIntersecting) {                entry.target.classList.add('is-visible');                observer.unobserve(entry.target);             }        });    }, observerOptions);    document.querySelectorAll('.reveal-on-scroll').forEach(el => {        observer.observe(el);    });}function renderProducts() {    const grid = document.getElementById('product-grid');    if (!grid) return;    grid.innerHTML = products.map(product => `        <article class="group relative bg-white rounded-xl shadow-sm hover:shadow-2xl transition-all duration-500 overflow-hidden border border-gray-100 reveal-on-scroll flex flex-col h-full">            <!-- Image Container -->            <div class="relative aspect-square overflow-hidden bg-gray-100">                <img src="${product.image}" alt="${product.title}" loading="lazy" class="w-full h-full object-cover object-center transform group-hover:scale-110 transition-transform duration-700">                                <!-- Overlay Gradient -->                <div class="absolute inset-0 bg-gradient-to-t from-black/50 to-transparent opacity-0 group-hover:opacity-100 transition-opacity duration-300"></div>                                <!-- Badge -->                <span class="absolute top-4 left-4 bg-white/95 backdrop-blur text-brand-brown text-xs font-bold uppercase tracking-widest px-3 py-1 rounded-sm shadow-sm z-10">                    ${product.badge}                </span>                <!-- Quick Action Button (Desktop) -->                <div class="absolute bottom-0 left-0 right-0 p-6 translate-y-full group-hover:translate-y-0 transition-transform duration-300 hidden md:block">                    <a href="${product.link}" target="_blank" class="block w-full bg-brand-turquoise text-white text-center py-3 font-bold uppercase tracking-widest text-xs hover:bg-brand-darkTurquoise rounded-sm shadow-lg">                        View on eBay                    </a>                </div>            </div>            <!-- Content -->            <div class="p-6 relative bg-white flex flex-col flex-grow z-10">                <p class="text-xs text-brand-turquoise font-bold uppercase tracking-widest mb-1">${product.category}</p>                <h3 class="font-serif text-lg font-bold text-gray-900 mb-2 group-hover:text-brand-brown transition-colors line-clamp-1">${product.title}</h3>                                <div class="mt-auto flex justify-between items-center pt-4 border-t border-gray-50">                    <span class="text-lg font-medium text-gray-900">${product.price}</span>                    <a href="${product.link}" target="_blank" class="md:hidden text-brand-brown hover:text-brand-turquoise p-2">                        <i data-lucide="arrow-right" class="w-5 h-5"></i>                    </a>                </div>            </div>        </article>    `).join('');        setTimeout(() => lucide.createIcons(), 100);}function initContactForm() {    const form = document.getElementById('contactForm');    const statusMsg = document.getElementById('formStatus');    if (!form) return;    const inputs = form.querySelectorAll('input, textarea');    inputs.forEach(input => {        input.addEventListener('blur', () => validateField(input));        input.addEventListener('input', () => {            if (input.classList.contains('error-border')) {                validateField(input);            }        });    });    form.addEventListener('submit', (e) => {        e.preventDefault();        let isValid = true;        inputs.forEach(input => {            if (!validateField(input)) isValid = false;        });        if (isValid) {            const btn = form.querySelector('button');            const originalText = btn.innerText;                        btn.innerText = 'Sending...';            btn.disabled = true;            btn.classList.add('opacity-75');            setTimeout(() => {                btn.innerText = 'Message Sent!';                btn.classList.replace('bg-brand-turquoise', 'bg-green-500');                                statusMsg.textContent = "Thanks for reaching out! We'll get back to you shortly.";                statusMsg.classList.remove('hidden', 'text-red-500');                statusMsg.classList.add('text-green-600', 'font-medium');                                form.reset();                inputs.forEach(input => {                    input.classList.remove('success-border');                });                setTimeout(() => {                    btn.innerText = originalText;                    btn.disabled = false;                    btn.classList.remove('opacity-75', 'bg-green-500');                    btn.classList.add('bg-brand-turquoise');                    statusMsg.classList.add('hidden');                }, 5000);            }, 1500);        } else {            statusMsg.textContent = "Please correct the errors above.";            statusMsg.classList.remove('hidden', 'text-green-600');            statusMsg.classList.add('text-red-500');        }    });}function validateField(input) {    const errorSpan = input.parentElement.querySelector('.error-msg');    let valid = true;    if (input.hasAttribute('required') && !input.value.trim()) {        valid = false;    }    if (input.type === 'email' && input.value) {        const emailRegex = /^[^\s@]+@[^\s@]+\.[^\s@]+$/;        if (!emailRegex.test(input.value)) valid = false;    }    if (valid) {        input.classList.remove('error-border');        input.classList.add('success-border');        if (errorSpan) errorSpan.classList.add('hidden');    } else {        input.classList.add('error-border');        input.classList.remove('success-border');        if (errorSpan) errorSpan.classList.remove('hidden');    }    return valid;}